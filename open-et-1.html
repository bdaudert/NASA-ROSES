<!DOCTYPE html>
<!--
An example web page that creates and displays a custom Google Maps API Map Type
for Earth Engine map tiles.  See Google Maps documentation on Custom Map Types
for details.
-->
<html>
  <head>{% include 'head.html'%}</head>
  <body>
    <!-- The element into which we render the Google Map. -->
    <div id="main-map" style="width: 640px; height: 480px;"></div>

    <!-- Create a callback to boot our application. -->
    <script>
      // This function will run after the Google Maps API has finished leading,
      // as specified by the &callback=initMap parameter in the Maps API script
      // URL (below).
      var initMap = function() {
        // The values of mapid and token for the map tiles, generated by Earth
        // Engine using the Python script server.py, are injected here using
        // the Jinja2 templating engine.
        initialize('{{ mapid }}', '{{ token }}');
      };
    </script>

    <!-- Load the Google Maps API, and run the initMap() callback when finished. -->
    <script src="https://maps.googleapis.com/maps/api/js?key={{ GMAP_API_KEY }}&callback=initMap" async defer></script>
  </body>
</html>
